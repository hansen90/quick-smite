angular.module("quicksmite.todo",[]),angular.module("quicksmite.todo",["mm.foundation"]).controller("TodoCtrl",["$scope","$window","$http","$location","TodoService",function(t,e,o,a){"use strict";t.todos=JSON.parse(e.localStorage.getItem("todos")||"[]"),t.$watch("todos",function(o,a){o!==a&&e.localStorage.setItem("todos",JSON.stringify(angular.copy(t.todos)))},!0),t.add=function(){var o={label:t.label,isDone:!1};t.todos.push(o),e.localStorage.setItem("todos",JSON.stringify(angular.copy(t.todos))),t.label=""},t.check=function(){this.todo.isDone=!this.todo.isDone},t.singleModel=1,t.radioModel="Middle",t.checkModel={left:!1,middle:!0,right:!1},t.formData={},t.goNext=function(){a.path("/summonerInfo/"+t.formData.summonerName)}}]).factory("TodoService",["$http","$q",function(t,e){return{getSummonerName:function(o){var a=e.defer();return t.get("https://na.api.pvp.net/api/lol/na/v1.4/summoner/by-name/"+o+"?api_key=7bb1997f-8ae8-47a6-ac69-5adf2ea7129e").then(function(t){a.resolve(t)}),a.promise}}}]),angular.module("quicksmite.summonerInfo",[]),angular.module("quicksmite.summonerInfo",["mm.foundation"]).config(["$routeProvider",function(t){t.when("summonerInfo/:name",{templateUrl:"summonerInfo/summonerInfo.html",controller:"sumInfoCtrl"})}]).controller("sumInfoCtrl",["$scope","$route","TodoService","sumInfoService",function(t,e,o,a){function n(t){var e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET","/resources/matchhistory.json",!0),e.onreadystatechange=function(){4==e.readyState&&"200"==e.status&&t(e.responseText)},e.send(null)}function i(t){var e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET","/resources/champion.json",!0),e.onreadystatechange=function(){4==e.readyState&&"200"==e.status&&t(e.responseText)},e.send(null)}function l(t){var e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET","/resources/summoner.json",!0),e.onreadystatechange=function(){4==e.readyState&&"200"==e.status&&t(e.responseText)},e.send(null)}o.getSummonerName(e.current.params.name).then(function(e){t.summonerDatas=e.data,console.log("data 2 is: ",t.summonerDatas);var o=Object.keys(t.summonerDatas);t.result=o[0],console.log("result is :"+t.result),t.profileId=a.getProfileId(t.summonerDatas[t.result].profileIconId)}),n(function(e){t.pastGameInfos=JSON.parse(e),console.log(t.pastGameInfos),t.pastGameInfos=t.pastGameInfos.matches[1],t.secondDataSet=t.pastGameInfos,t.participantData=t.secondDataSet.participants[0],console.log(t.participantData),i(function(e){t.championData=JSON.parse(e);for(var o in t.championData.data)for(key in t.championData.data[o])t.championData.data[o].hasOwnProperty(key)&&"key"==key&&t.championData.data[o][key]==t.participantData.championId&&(t.champion=a.getChampionSquare(o),console.log("found a match"+t.champion))}),l(function(e){t.spellIds=JSON.parse(e);for(var o in t.spellIds.data)for(key in t.spellIds.data[o])t.spellIds.data[o].hasOwnProperty(key)&&"key"==key&&t.spellIds.data[o][key]==t.participantData.spell1Id&&(t.spell1=a.getSpell1Id(o),console.log("found a match"+t.spell1));for(var n in t.spellIds.data)for(key in t.spellIds.data[n])t.spellIds.data[n].hasOwnProperty(key)&&"key"==key&&t.spellIds.data[n][key]==t.participantData.spell2Id&&(console.log("found a match"+n),t.spell2=a.getSpell2Id(n))})})}]).factory("sumInfoService",["$http","$q",function(){return{getProfileId:function(t){var e=$("<img />").attr("src","http://ddragon.leagueoflegends.com/cdn/5.3.1/img/profileicon/"+t+".png").load(function(){this.complete&&"undefined"!=typeof this.naturalWidth&&0!=this.naturalWidth?$("#something").append(e):alert("broken image!")})},getSpell1Id:function(t){var e=$("<img />").attr("src","http://ddragon.leagueoflegends.com/cdn/5.2.1/img/spell/"+t+".png").load(function(){this.complete&&"undefined"!=typeof this.naturalWidth&&0!=this.naturalWidth?$("#spells").append(e):alert("broken image!")})},getSpell2Id:function(t){var e=$("<img />").attr("src","http://ddragon.leagueoflegends.com/cdn/5.2.1/img/spell/"+t+".png").load(function(){this.complete&&"undefined"!=typeof this.naturalWidth&&0!=this.naturalWidth?$("#spells2").append(e):alert("broken image!")})},getChampionSquare:function(t){var e=$("<img />").attr("src","http://ddragon.leagueoflegends.com/cdn/5.2.1/img/champion/"+t+".png").load(function(){this.complete&&"undefined"!=typeof this.naturalWidth&&0!=this.naturalWidth?$("#championSquare").append(e):alert("broken image!")})}}}]),angular.module("quicksmite",["ngRoute","quicksmite.todo","quicksmite.summonerInfo","mm.foundation"]).config(["$routeProvider",function(t){"use strict";t.when("/todo",{controller:"TodoCtrl",templateUrl:"/quicksmite/todo/todo.html"}).when("/summonerInfo/:name",{controller:"sumInfoCtrl",templateUrl:"/quicksmite/summonerInfo/summonerInfo.html"}).otherwise({redirectTo:"/todo"})}]),function(t){try{t=angular.module("quicksmite")}catch(e){t=angular.module("quicksmite",[])}t.run(["$templateCache",function(t){t.put("/quicksmite/summonerInfo/summonerInfo.html",'<body><top-bar><ul class="title-area"><li class="name"><h1><a href="#/todo">My Site</a></h1></li><li toggle-top-bar class="menu-icon"><a href="#">Menu</a></li></ul><top-bar-section><ul class="right"><li class="active"><a href="#">Active</a></li><li has-dropdown><a href="#">Dropdown</a><ul top-bar-dropdown><li><a href="#">First link in dropdown</a></li></ul></li></ul><ul class="left"><li><a href="#">Left</a></li></ul></top-bar-section></top-bar><table class="large-6 columns large-offset-3"><thead><tr><th width="200">Summoner ID</th><th width="200">Summoner Name</th><th width="200">Profile Icon</th><th width="200">Summoner Level</th></tr></thead><tbody><tr><td>{{summonerDatas[result].id}}</td><td>{{summonerDatas[result].name}}</td><td><div id="something"></div></td><td>{{summonerDatas[result].summonerLevel}}</td></tr></tbody></table><br><table class="large-6 columns large-offset-3"><thead><tr><th width="200">Champion ID</th><th width="200">Rank</th><th width="200">Spell 1</th><th width="200">Spell 2</th></tr></thead><tbody><tr><td><div id="championSquare"></div></td><td>{{participantData.highestAchievedSeasonTier}}</td><td><div id="spells"></div></td><td><div id="spells2"></div></td></tr></tbody></table></body>')}])}(),function(t){try{t=angular.module("quicksmite")}catch(e){t=angular.module("quicksmite",[])}t.run(["$templateCache",function(t){t.put("/quicksmite/todo/todo.html",'<body><top-bar><ul class="title-area"><li class="name"><h1><a href="#/todo">QuickSmite</a></h1></li><li toggle-top-bar class="menu-icon"><a href="#">Menu</a></li></ul><top-bar-section><ul class="right"><li class="active"><a href="#">Active</a></li><li has-dropdown><a href="#">Dropdown</a><ul top-bar-dropdown><li><a href="#">First link in dropdown</a></li></ul></li></ul></top-bar-section></top-bar><br><br><br><br><div class="row"><div class="large-6 columns large-offset-3"><div class="row collapse prefix-round"><div class="small-3 columns"><button ng-click="goNext()" class="button prefix">Go</button></div><div class="small-9 columns"><input placeholder="Enter Summoner Name" name="summonerName" ng-model="formData.summonerName"></div></div></div></div><br><pre>\n      {{formData}}\n    </pre></body>')}])}();